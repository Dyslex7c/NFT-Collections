//SPDX-License-Identifier: MIT

pragma solidity ^0.8.18;

import {Test, console} from "forge-std/Test.sol";
import {MoodNFT} from "../../src/MoodNFT.sol";

contract MoodNftTest is Test{
    MoodNFT moodNft;
    string public constant HAPPY_SVG_URI = "data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAwIDIwMCIgd2lkdGg9IjQwMCIgaGVpZ2h0PSI0MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ3JleUdyYWRpZW50IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOnJnYigyNTUsIDI1NSwgMjU1KTsgc3RvcC1vcGFjaXR5OjEiIC8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOnJnYigwLCAwLCAwKTsgc3RvcC1vcGFjaXR5OjEiIC8+DQogICAgPC9saW5lYXJHcmFkaWVudD4NCiAgPC9kZWZzPg0KICANCiAgPGNpcmNsZSBjeD0iMTAwIiBjeT0iMTAwIiByPSI4MCIgZmlsbD0idXJsKCNncmV5R3JhZGllbnQpIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjMiIC8+DQogIA0KICA8ZyBjbGFzcz0iZXllcyI+DQogICAgPHBhdGggZD0iTTU1IDc1IFEgNzAgNTUsIDg1IDc1IFQgNTUgNzUiIGZpbGw9IndoaXRlIiAvPg0KICAgIDxwYXRoIGQ9Ik0xMTUgNzUgUSAxMzAgNTUsIDE0NSA3NSBUIDExNSA3NSIgZmlsbD0id2hpdGUiIC8+DQogICAgPHBhdGggZD0iTTUwIDcwIFEgNzAgNDAsIDkwIDcwIiBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjQiLz4NCiAgICA8cGF0aCBkPSJNMTEwIDcwIFEgMTMwIDQwLCAxNTAgNzAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iNCIvPg0KICA8L2c+DQogIA0KICA8ZyBjbGFzcz0ibW91dGgiPg0KICAgIDxwYXRoIGQ9Ik02MCAxMzAgQSA0MCAzMCAwIDAgMCAxNDAgMTMwIiBmaWxsPSJibGFjayIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSI0IiAvPg0KICA8L2c+DQo8L3N2Zz4NCg==";

    string public constant SAD_SVG_URI = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iZ3JhZDEiIGN4PSI1MCUiIGN5PSI1MCUiIHI9IjUwJSIgZng9IjUwJSIgZnk9IjUwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjpyZ2IoMjU1LDI1NSwyNTUpO3N0b3Atb3BhY2l0eToxIiAvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjpyZ2IoMjA0LDIwNCwyMDQpO3N0b3Atb3BhY2l0eToxIiAvPg0KICAgIDwvcmFkaWFsR3JhZGllbnQ+DQogIDwvZGVmcz4NCg0KICA8ZmlsdGVyIGlkPSJzaGFkb3ciIHg9Ii01MCUiIHk9Ii01MCUiIHdpZHRoPSIyMDAlIiBoZWlnaHQ9IjIwMCUiPg0KICAgIDxmZUdhdXNzaWFuQmx1ciBpbj0iU291cmNlQWxwaGEiIHN0ZERldmlhdGlvbj0iMyIvPg0KICAgIDxmZU9mZnNldCBkeD0iNSIgZHk9IjUiIHJlc3VsdD0ib2Zmc2V0Ymx1ciIvPg0KICAgIDxmZUZsb29kIGZsb29kLWNvbG9yPSJyZ2JhKDAsMCwwLDAuMykiLz4NCiAgICA8ZmVDb21wb3NpdGUgaW4yPSJvZmZzZXRibHVyIiBvcGVyYXRvcj0iaW4iLz4NCiAgICA8ZmVNZXJnZT4NCiAgICAgIDxmZU1lcmdlTm9kZS8+DQogICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiLz4NCiAgICA8L2ZlTWVyZ2U+DQogIDwvZmlsdGVyPg0KDQogIDxjaXJjbGUgY3g9IjUxMiIgY3k9IjUxMiIgcj0iNDQ4IiBmaWxsPSJ1cmwoI2dyYWQxKSIgc3Ryb2tlPSIjMzMzIiBzdHJva2Utd2lkdGg9IjEwIiBmaWx0ZXI9InVybCgjc2hhZG93KSIgLz4NCg0KICA8Y2lyY2xlIGN4PSI0MDAiIGN5PSI0MjAiIHI9IjQwIiBmaWxsPSIjMzMzIiAvPg0KICA8Y2lyY2xlIGN4PSI2MjAiIGN5PSI0MjAiIHI9IjQwIiBmaWxsPSIjMzMzIiAvPg0KDQogIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyNSIgZD0iTTM2MCA2NjAgUSA1MTIgNTcwLCA2NjAgNjYwIiAvPg0KDQogIDxjaXJjbGUgY3g9IjM4MCIgY3k9IjU3MCIgcj0iMjAiIGZpbGw9IiNFNkU2RTYiIG9wYWNpdHk9IjAuNSIgLz4NCiAgPGNpcmNsZSBjeD0iNjQwIiBjeT0iNTcwIiByPSIyMCIgZmlsbD0iI0U2RTZFNiIgb3BhY2l0eT0iMC41IiAvPg0KPC9zdmc+DQo=";

    address USER = makeAddr("user");

    function setUp() public {
        moodNft = new MoodNFT(SAD_SVG_URI, HAPPY_SVG_URI);
    }

    function testViewTokenURI() public {
        vm.prank(USER);
        moodNft.mintNFT();
        console.log(moodNft.tokenURI(0));
    }
}